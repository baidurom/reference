<?xml version="1.0" encoding="utf-8"?>
<features>

    <feature require="OPTION" description="Contact's photograph optimization">
        <revise action="REPLACE" target="framework.jar.out/smali/android/widget/QuickContactBadge.smali" />
        <revise action="REPLACE" target="framework.jar.out/smali/android/widget/QuickContactBadge$QueryHandler.smali" />
    </feature>

    <feature require="OPTION" description="Prehandle incoming short message for Baidu">
        <revise action="MERGE" 
                target="telephony-common.jar.out/smali/com/android/internal/telephony/SMSDispatcher.smali"
                patch="revise-SMSDispatcher.xml" />
        <revise action="REPLACE"
                target="telephony-common.jar.out/smali/com/android/internal/telephony/SMSDispatcher$TrafficMonitorMessageReceiverClass.smali" />
    </feature>

    <feature require="OPTION" description="Network firewall policy">
        <revise action="MERGE" 
                target="framework.jar.out/smali/android/net/NetworkPolicyManager.smali"
                patch="revise-NetworkPolicyManager.xml" />
        <revise action="MERGE"
                target="services.jar.out/smali/com/android/server/net/NetworkPolicyManagerService.smali"
                patch="revise-NetworkPolicyManagerService.xml" />
    </feature>

    <feature require="OPTION" description="Hook to reorder SMS broadcast">
        <revise action="MERGE"
                target="services.jar.out/smali/com/android/server/am/ActivityManagerService.smali"
                patch="revise-ActivityManagerService-BroadcastHook.xml" />
        <revise action="MERGE"
                target="services.jar.out/smali/com/android/server/am/BroadcastRecord.smali"
                patch="revise-BroadcastRecord.xml" />
    </feature>

    <feature require="OPTION" description="Baidu default ringtone settings">
        <revise action="MERGE"
                target="framework.jar.out/smali/android/media/MediaScanner$MyMediaScannerClient.smali" 
                patch="revise-MyMediaScannerClient.xml"/>
    </feature>

    <feature require="OPTION" description="Baidu Lockscreen">
        <revise action="REPLACE" target="framework.jar.out/smali/com/android/internal/widget/DigitalClock.smali" />
        <revise action="ADD" target="framework.jar.out/smali/com/android/internal/widget/DragView.smali" />
        <revise action="MERGE" 
                target="framework.jar.out/smali/com/android/internal/widget/LockPatternUtils.smali" 
                patch="revise-LockPatternUtils.xml" />
    </feature>

    <feature require="OPTION" description="Dynamic permission checking">
        <revise action="MERGE"
                target="framework.jar.out/smali/android/app/ContextImpl$ApplicationContentResolver.smali"
                patch="revise-ApplicationContentResolver.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/app/Instrumentation.smali"
                patch="revise-Instrumentation.xml"/>
        <revise action="MERGE"
                target="framework.jar.out/smali/android/location/LocationManager.smali"
                patch="revise-LocationManager.xml"/>
        <revise action="MERGE"
                target="framework.jar.out/smali/android/net/ConnectivityManager.smali"
                patch="revise-ConnectivityManager.xml"/>
        <revise action="MERGE"
                target="telephony-common.jar.out/smali/com/android/internal/telephony/IccSmsInterfaceManager.smali"
                patch="revise-IccSmsInterfaceManager.xml" />
    </feature>

    <feature require="OPTION" description="Baidu Backup service">
        <revise target="services.jar.out/smali/com/android/server/BackupManagerService*" action="REPLACE" />
    </feature>

    <feature require="OPTION" description="Baidu TextView" >
        <revise target="framework.jar.out/smali/android/widget/Editor*" action="REPLACE" />
        <revise target="framework.jar.out/smali/android/widget/TextView.smali" action="REPLACE" />
        <revise target="framework.jar.out/smali/android/widget/TextView$ChangeWatcher.smali" action="REPLACE" />
        <revise target="framework.jar.out/smali/android/text/Layout.smali" action="REPLACE" />
        <revise target="framework.jar.out/smali/com/android/internal/util/SearchHelper.smali" action="ADD" />
        <revise target="framework.jar.out/smali/com/android/internal/util/WordSegment.smali" action="ADD" />
        <revise target="framework.jar.out/smali/com/android/internal/widget/PopupLayout.smali" action="ADD" />
        <revise target="framework.jar.out/smali/com/android/internal/widget/MagnifierView.smali" action="ADD" />
        <revise target="framework.jar.out/smali/android/widget/MagnifierView2.smali" action="ADD" />
        <revise target="framework.jar.out/smali/android/widget/MagnifierController.smali" action="ADD" />
        <revise target="framework.jar.out/smali/android/widget/MagnifierController$1.smali" action="ADD" />
    </feature>

    <feature require="OPTION" description="Baidu Multi Theme" >
        <revise action="ADD" target="framework.jar.out/smali/android/content/ThemeDefine.smali"/>
        <revise action="ADD" target="framework.jar.out/smali/android/content/res/Resources$1.smali" />
        <revise action="REPLACE" target="framework.jar.out/smali/android/content/res/Resources.smali" />
        <revise action="REPLACE" target="framework.jar.out/smali/com/android/internal/app/ActionBarImpl.smali" />
        <revise action="REPLACE" target="framework.jar.out/smali/com/android/internal/widget/ActionBarView*" />
        <revise action="REPLACE" target="framework.jar.out/smali/android/view/VolumePanel*" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/content/Intent.smali"
                patch="revise-Multitheme-Intent.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/content/pm/ActivityInfo.smali"
                patch="revise-Multitheme-ActivityInfo.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/content/res/AssetManager.smali"
                patch="revise-Multitheme-AssetManager.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/content/res/Configuration.smali"
                patch="revise-Multitheme-Configuration.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/app/ActivityThread.smali"
                patch="revise-Multitheme-ActivityThread.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/app/ActivityThread$2.smali"
                patch="revise-Multitheme-ActivityThread-Anonymous.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/app/ApplicationPackageManager.smali"
                patch="revise-Multitheme-ApplicationPackageManager.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/app/ContextImpl.smali"
                patch="revise-Multitheme-ContextImpl.xml" />
        <revise action="MERGE"
                target="framework.jar.out/smali/android/view/WindowManager$LayoutParams.smali"
                patch="revise-Multitheme-LayoutParams.xml" />
        <revise action="MERGE"
                target="services.jar.out/smali/com/android/server/am/ActivityManagerService.smali"
                patch="revise-Multitheme-ActivityManagerService.xml" />
    </feature>

</features>
